(()=>{var e={251:(e,t,n)=>{"use strict";var l=n(196),r=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,n){var l,s={},c=null,u=null;for(l in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,l)&&!o.hasOwnProperty(l)&&(s[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===s[l]&&(s[l]=t[l]);return{$$typeof:r,type:e,key:c,ref:u,props:s,_owner:a.current}}},893:(e,t,n)=>{"use strict";e.exports=n(251)},196:e=>{"use strict";e.exports=window.React},967:(e,t)=>{var n;!function(){"use strict";var l={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,i(n)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)l.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},t={};function n(l){var r=t[l];if(void 0!==r)return r.exports;var i=t[l]={exports:{}};return e[l](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks,t=JSON.parse('{"u2":"gulir/image-slider"}');function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)({}).hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},l.apply(null,arguments)}const r=window.wp.element;var i=n(967),a=n.n(i);const o=window.wp.compose,s=window.wp.components,c=window.wp.blockEditor,u=window.wp.i18n,d=window.wp.data,p=window.wp.viewport,g=window.wp.primitives,f=(window.wp.blob,window.wp.notices);var m=n(893);const _=(0,m.jsx)(g.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)(g.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z"})}),b=(0,m.jsx)(g.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,m.jsx)(g.Path,{d:"M16.375 4.5H4.625a.125.125 0 0 0-.125.125v8.254l2.859-1.54a.75.75 0 0 1 .68-.016l2.384 1.142 2.89-2.074a.75.75 0 0 1 .874 0l2.313 1.66V4.625a.125.125 0 0 0-.125-.125Zm.125 9.398-2.75-1.975-2.813 2.02a.75.75 0 0 1-.76.067l-2.444-1.17L4.5 14.583v1.792c0 .069.056.125.125.125h11.75a.125.125 0 0 0 .125-.125v-2.477ZM4.625 3C3.728 3 3 3.728 3 4.625v11.75C3 17.273 3.728 18 4.625 18h11.75c.898 0 1.625-.727 1.625-1.625V4.625C18 3.728 17.273 3 16.375 3H4.625ZM20 8v11c0 .69-.31 1-.999 1H6v1.5h13.001c1.52 0 2.499-.982 2.499-2.5V8H20Z",fillRule:"evenodd",clipRule:"evenodd"})}),h=(0,r.createElement)(c.BlockIcon,{icon:b}),v=(e,t="large")=>{const n=Object.fromEntries(Object.entries(null!=e?e:{}).filter((([e])=>["alt","id","link"].includes(e))));n.url=e?.sizes?.[t]?.url||e?.media_details?.sizes?.[t]?.source_url||e?.url||e?.source_url;const l=e?.sizes?.full?.url||e?.media_details?.sizes?.full?.source_url;return l&&(n.fullUrl=l),n},w="none",y="media",k="attachment",E=["nofollow","noopener"];function S(e,t,n){switch(n||t){case"file":case y:return{href:e?.source_url||e?.url,linkDestination:y};case"post":case k:return{href:e?.link,linkDestination:k};case w:return{href:void 0,linkDestination:w}}return{}}function B(e,{rel:t}){const n=e?"_blank":void 0;let l;return l=n||t?function(e){let t=e;return void 0!==e&&t&&(E.forEach((e=>{const n=new RegExp("\\b"+e+"\\b","gi");t=t.replace(n,"")})),t!==e&&(t=t.trim()),t||(t=void 0)),t}(t):void 0,{linkTarget:n,rel:l}}const C=(0,r.forwardRef)(((t,n)=>{const{attributes:i,isSelected:o,setAttributes:s,mediaPlaceholder:d,insertBlocksAfter:p,blockProps:f,__unstableLayoutClassNames:m,showCaption:_}=t,{align:b,caption:h,imageCrop:v}=i;return(0,r.createElement)("figure",l({},f,{className:a()(f.className,m,"blocks-gallery-grid columns-3",{[`align${b}`]:b,"is-cropped":v})}),f.children,o&&!f.children&&(0,r.createElement)(g.View,{className:"blocks-gallery-media-placeholder-wrapper"},d),_&&(!c.RichText.isEmpty(h)||o)&&(0,r.createElement)(c.RichText,{identifier:"caption","aria-label":(0,u.__)("Gallery caption text"),placeholder:(0,u.__)("Write gallery caption…"),value:h,className:a()("gb-slider-caption",(0,c.__experimentalGetElementClassName)("caption")),ref:n,tagName:"figcaption",onChange:e=>s({caption:e}),inlineToolbar:!0,__unstableOnSplitAtEnd:()=>p((0,e.createBlock)((0,e.getDefaultBlockName)()))}))}));const x=window.wp.coreData,N=[],I=[{value:k,label:(0,u.__)("Attachment Page")},{value:y,label:(0,u.__)("Media File")},{value:w,label:(0,u._x)("None","Media item link option")}],P=["image"],T=["core/image"],A=r.Platform.isNative?(0,u.__)("ADD MEDIA"):(0,u.__)("Pick images you want to use in your slider."),O=r.Platform.isNative?{type:"stepper"}:{},M=(0,o.compose)([(0,p.withViewportMatch)({isNarrow:"< small"})])((function(t){const{setAttributes:n,attributes:i,className:p,clientId:m,isSelected:b,insertBlocksAfter:y,isContentLocked:k}=t,{ratio:E,autoplay:M,borderRadius:R,imageCrop:z,linkTarget:V,linkTo:j,sizeSlug:D,caption:H}=i,[L,Z]=(0,r.useState)(!!H),G=(0,o.usePrevious)(H);(0,r.useEffect)((()=>{H&&!G&&Z(!0)}),[H,G]),(0,r.useEffect)((()=>{b||H||Z(!1)}),[b,H]),(0,r.useCallback)((e=>{e&&!H&&e.focus()}),[H]);const{__unstableMarkNextChangeAsNotPersistent:U,replaceInnerBlocks:F,updateBlockAttributes:W,selectBlock:$}=(0,d.useDispatch)(c.store),{createSuccessNotice:J,createErrorNotice:q}=(0,d.useDispatch)(f.store),{getBlock:Y,getSettings:K,preferredStyle:Q}=(0,d.useSelect)((e=>{const t=e(c.store).getSettings().__experimentalPreferredStyleVariations;return{getBlock:e(c.store).getBlock,getSettings:e(c.store).getSettings,preferredStyle:t?.value?.["core/image"]}}),[]),X=(0,d.useSelect)((e=>e(c.store).getBlock(m)?.innerBlocks),[m]),ee=(0,d.useSelect)((e=>e(c.store).wasBlockJustInserted(m,"inserter_menu")),[m]),te=(0,r.useMemo)((()=>X?.map((e=>({clientId:e.clientId,id:e.attributes.id,url:e.attributes.url,attributes:e.attributes,fromSavedContent:Boolean(e.originalContent)})))),[X]),ne=function(e){return(0,d.useSelect)((t=>{var n;const l=e.map((e=>e.attributes.id)).filter((e=>void 0!==e));return 0===l.length?N:null!==(n=t(x.store).getMediaItems({include:l.join(","),per_page:-1,orderby:"include"}))&&void 0!==n?n:N}),[e])}(X),le=function(e,t){const[n,l]=(0,r.useState)([]);return(0,r.useMemo)((()=>function(){let r=!1;const i=n.filter((t=>e.find((e=>t.clientId===e.clientId))));i.length<n.length&&(r=!0),e.forEach((e=>{e.fromSavedContent&&!i.find((t=>t.id===e.id))&&(r=!0,i.push(e))}));const a=e.filter((e=>!i.find((t=>e.clientId&&t.clientId===e.clientId))&&t?.find((t=>t.id===e.id))&&!e.fromSavedConent));return(r||a?.length>0)&&l([...i,...a]),a.length>0?a:null}()),[e,t])}(te,ne);(0,r.useEffect)((()=>{le?.forEach((e=>{U(),W(e.clientId,{...ie(e.attributes),id:e.id,align:void 0})}))}),[le]);const re=function(e,t,n){return(0,r.useMemo)((()=>function(){if(!e||0===e.length)return;const{imageSizes:l}=n();let r={};t&&(r=e.reduce(((e,t)=>{if(!t.id)return e;const n=l.reduce(((e,n)=>{const l=t.sizes?.[n.slug]?.url,r=t.media_details?.sizes?.[n.slug]?.source_url;return{...e,[n.slug]:l||r}}),{});return{...e,[parseInt(t.id,10)]:n}}),{}));const i=Object.values(r);return l.filter((({slug:e})=>i.some((t=>t[e])))).map((({name:e,slug:t})=>({value:t,label:e})))}()),[e,t])}(ne,b,K);function ie(e){const t=e.id?ne.find((({id:t})=>t===e.id)):null;let n,l;return n=e.className&&""!==e.className?e.className:Q?`is-style-${Q}`:void 0,l=e.linkTarget||e.rel?{linkTarget:e.linkTarget,rel:e.rel}:B(V,i),{...v(t,D),...S(t,j,e?.linkDestination),...l,className:n,sizeSlug:D,caption:e.caption||t.caption?.raw,alt:e.alt||t.alt_text}}async function ae(t){if(!(Array.isArray(t)?t:[t]).every((e=>e&&"number"==typeof e.id&&"string"==typeof e.url&&!e.url.startsWith("blob:"))))return;const n=!Array.isArray(t),l=n?[t]:t,r=l.reduce(((e,t,n)=>(e[t.id]=n,e)),{}),i=n?X:X.filter((e=>l.find((t=>t.id===e.attributes.id)))),a=l.filter((e=>!i.find((t=>e.id===t.attributes.id)))).map((t=>(0,e.createBlock)("core/image",{id:t.id,url:t.url,caption:t.caption,alt:t.alt})));F(m,i.concat(a).sort(((e,t)=>r[e.attributes.id]-r[t.attributes.id]))),a?.length>0&&$(a[0].clientId)}const oe=(e,t)=>{n({[e]:t})};(0,r.useEffect)((()=>{j||(U(),n({linkTo:window?.wp?.media?.view?.settings?.defaultProps?.link||w}))}),[j]);const se=!!te.length,ce=se&&te.some((e=>!!e.id)),ue=te.some((e=>r.Platform.isNative?0===e.url?.indexOf("file:"):!e.id&&0===e.url?.indexOf("blob:"))),de=r.Platform.select({web:{addToGallery:!1,disableMediaButtons:ue,value:{}},native:{addToGallery:ce,isAppender:se,disableMediaButtons:se&&!b||ue,value:ce?te:{},autoOpenMediaUpload:!se&&b&&ee}}),pe=(0,r.createElement)(c.MediaPlaceholder,l({handleUpload:!0,icon:h,labels:{title:(0,u.__)("Image Slider"),instructions:A},onSelect:ae,accept:"image/*",allowedTypes:P,multiple:!0,onError:function(e){q(e,{type:"snackbar"})}},de)),ge=(0,c.useBlockProps)({className:a()(p,"has-nested-images wp-block-gallery is-layout-flex wp-block-gallery-is-layout-flex")}),fe=r.Platform.isNative&&{marginHorizontal:0,marginVertical:0},me=(0,c.useInnerBlocksProps)(ge,{allowedBlocks:T,orientation:"horizontal",renderAppender:!1,...fe});if(!se)return(0,r.createElement)(g.View,me,me.children,pe);const _e=j&&"none"!==j;return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(c.InspectorControls,null,(0,r.createElement)(s.PanelBody,{title:(0,u.__)("Settings")},te.length>1&&(0,r.createElement)(s.RangeControl,l({__nextHasNoMarginBottom:!0,label:(0,u.__)("Image Slider Ratio"),value:E,onChange:e=>n({ratio:e}),min:1,max:200},O,{required:!0,size:"__unstable-large"})),te.length>1&&(0,r.createElement)(s.ToggleControl,{label:(0,u.__)("Autoplay"),checked:M,onChange:e=>oe("autoplay",e)}),te.length>1&&(0,r.createElement)(s.RangeControl,{label:(0,u.__)("Border Radius"),value:R,onChange:e=>oe("borderRadius",e),step:1,max:100,min:0}),(0,r.createElement)(s.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,u.__)("Link to"),value:j,onChange:function(e){n({linkTo:e});const t={},l=[];Y(m).innerBlocks.forEach((n=>{l.push(n.clientId);const r=n.attributes.id?ne.find((({id:e})=>e===n.attributes.id)):null;t[n.clientId]=S(r,e)})),W(l,t,!0);const r=[...I].find((t=>t.value===e));J((0,u.sprintf)(/* translators: %s: image size settings */
(0,u.__)("All gallery image links updated to: %s"),r.label),{id:"gallery-attributes-linkTo",type:"snackbar"})},options:I,hideCancelButton:!0,size:"__unstable-large"}),_e&&(0,r.createElement)(s.ToggleControl,{__nextHasNoMarginBottom:!0,label:(0,u.__)("Open in new tab"),checked:"_blank"===V,onChange:function(e){const t=e?"_blank":void 0;n({linkTarget:t});const l={},r=[];Y(m).innerBlocks.forEach((e=>{r.push(e.clientId),l[e.clientId]=B(t,e.attributes)})),W(r,l,!0);const i=e?(0,u.__)("All gallery images updated to open in new tab"):(0,u.__)("All gallery images updated to not open in new tab");J(i,{id:"gallery-attributes-openInNewTab",type:"snackbar"})}}),re?.length>0&&(0,r.createElement)(s.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,u.__)("Resolution"),help:(0,u.__)("Select the size of the source images."),value:D,options:re,onChange:function(e){n({sizeSlug:e});const t={},l=[];Y(m).innerBlocks.forEach((n=>{l.push(n.clientId);const r=n.attributes.id?ne.find((({id:e})=>e===n.attributes.id)):null;t[n.clientId]=function(e,t){const n=e?.media_details?.sizes?.[t]?.source_url;return n?{url:n,width:void 0,height:void 0,sizeSlug:t}:{}}(r,e)})),W(l,t,!0);const r=re.find((t=>t.value===e));J((0,u.sprintf)(/* translators: %s: image size settings */
(0,u.__)("All gallery image sizes updated to: %s"),r.label),{id:"gallery-attributes-sizeSlug",type:"snackbar"})},hideCancelButton:!0,size:"__unstable-large"}),r.Platform.isWeb&&!re&&ce&&(0,r.createElement)(s.BaseControl,{className:"gallery-image-sizes"},(0,r.createElement)(s.BaseControl.VisualLabel,null,(0,u.__)("Resolution")),(0,r.createElement)(g.View,{className:"gallery-image-sizes__loading"},(0,r.createElement)(s.Spinner,null),(0,u.__)("Loading options…"))))),(0,r.createElement)(c.BlockControls,{group:"block"},!k&&(0,r.createElement)(s.ToolbarButton,{onClick:()=>{Z(!L),L&&H&&n({caption:void 0})},icon:_,isPressed:L,label:L?(0,u.__)("Remove caption"):(0,u.__)("Add caption")})),(0,r.createElement)(c.BlockControls,{group:"other"},(0,r.createElement)(c.MediaReplaceFlow,{allowedTypes:P,accept:"image/*",handleUpload:!0,onSelect:ae,name:(0,u.__)("Add"),multiple:!0,mediaIds:te.filter((e=>e.id)).map((e=>e.id)),addToGallery:ce})),(0,r.createElement)(C,l({},t,{showCaption:!1,images:te,mediaPlaceholder:!se||r.Platform.isNative?pe:void 0,blockProps:me,insertBlocksAfter:y})),te.length>1&&(0,r.createElement)("div",{className:"wp-block gb-block-info"},(0,u.__)("The layout is preview-only for editing. The slider will appear on the frontend.")))}));(0,e.registerBlockType)(t.u2,{edit:M,save:function(e){const{attributes:t}=e;return(0,r.createElement)(c.InnerBlocks.Content,null)}})})()})();
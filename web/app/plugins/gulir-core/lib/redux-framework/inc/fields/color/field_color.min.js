!function(t){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.color=redux.field_objects.color||{},t(document).ready(function(){}),redux.field_objects.color.init=function(i){i||(i=t(document).find(".redux-group-tab:visible").find(".redux-container-color:visible")),t(i).each(function(){var i=t(this),r=i;if(i.hasClass("redux-field-container")||(r=i.parents(".redux-field-container:first")),!r.is(":hidden"))r.hasClass("redux-field-init")&&(r.removeClass("redux-field-init"),i.find(".redux-color-init").wpColorPicker({change:function(r,n){t(this).val(n.color.toString()),redux_change(t(this)),i.find("#"+r.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(i,r){redux_change(t(this).parent().find(".redux-color-init"))}}),i.find(".redux-color").on("focus",function(){t(this).data("oldcolor",t(this).val())}),i.find(".redux-color").on("keyup",function(){var r=t(this).val(),n=colorValidate(this),e="#"+t(this).attr("id");"transparent"===r?(t(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),i.find(e+"-transparency").attr("checked","checked")):(i.find(e+"-transparency").removeAttr("checked"),n&&n!==t(this).val()&&t(this).val(n))}),i.find(".redux-color").on("blur",function(){var r=t(this).val(),n="#"+t(this).attr("id");"transparent"===r?(t(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),i.find(n+"-transparency").attr("checked","checked")):(colorValidate(this)===r&&0!==r.indexOf("#")&&t(this).val(t(this).data("oldcolor")),i.find(n+"-transparency").removeAttr("checked"))}),i.find(".redux-color").on("keydown",function(){t(this).data("oldkeypress",t(this).val())}),i.find(".color-transparency").on("click",function(){if(t(this).is(":checked"))i.find(".redux-saved-color").val(t("#"+t(this).data("id")).val()),i.find("#"+t(this).data("id")).val("transparent"),i.find("#"+t(this).data("id")).parent().parent().find(".wp-color-result").css("background-color","transparent");else if("transparent"===i.find("#"+t(this).data("id")).val()){var r=t(".redux-saved-color").val();""===r&&(r=t("#"+t(this).data("id")).data("default-color")),i.find("#"+t(this).data("id")).parent().parent().find(".wp-color-result").css("background-color",r),i.find("#"+t(this).data("id")).val(r)}redux_change(t(this))}))})}}(jQuery);